<html>
  <head>
    <link rel="stylesheet" type="text/css" href="/demos/style.css">
    <style>
      /* The following is the required CSS for list-view */
      .ember-list-view {
        overflow: auto;
        position: relative;
      }
      .ember-list-item-view {
        position: absolute;
      }
      .scrolling .ember-list-item-view {
        pointer-events: none;
      }

      /* Giving internal rows a full height and width causes
         mousemove events to be triggered in webkit. The mousemove
         events cancel the scroll inertia. This bug is worked
         around by setting the scrolling class on list items.

         Leaving this CSS here to ensure the workaround is tested.
         */
      .row {
        background-color: red;
        height: 50px;
        width: 100px;
      }
    </style>
    <script src="/demos/vendor/jquery-1.9.0.js"></script>
    <script src="/demos/vendor/handlebars.js"></script>
    <script type="text/javascript" src="/modules/ember.js"></script>
    <script type="text/javascript" src="/demos/vendor/group-helper.js"></script>
    <script type="text/javascript" src="/modules/list-view.js"></script>
  </head>

  <body>
    <script type="text/x-handlebars">
      {{#group}}
      {{#collection Ember.ListView contentBinding="controller" height=300 width=500 rowHeight=100 elementWidth=100}}
        <div class="row">{{name}}</div>
      {{/collection}}
      {{/group}}
    </script>

    <script>
      App = Ember.Application.create();

      // for debugging
      App.ApplicationView = Ember.View.extend({
        didInsertElement: function(){
          window.list = Ember.View.views[$('.ember-list-view').attr('id')];
        }
      });

      var images = [
        'https://twimg0-a.akamaihd.net/profile_images/2681970778/df2e281f4cec93a73f663a78f92926cd.png',
        'http://media-cache-ec5.pinterest.com/avatars/bigdatalens-1350281063_600.jpg',
        'http://www.bigdatabytes.com/wp-content/uploads/2012/01/big-data.jpg',
        'http://blog.varonis.com/wp-content/uploads/2012/05/big-data-security-1024x800.png',
        'http://blogs-images.forbes.com/davefeinleib/files/2012/07/Big-Data-Landscape-Jul-4-2012.00111.png',
      ];

      App.AppleView = Ember.View.extend({
        template: Ember.Handlebars.compile("{{id}}{{name}}-bro")
      });

      App.ApplicationRoute = Ember.Route.extend({
        model: function() {
          var content = [];
          for (var i = 0; i < 100000; i++) {
            content.push({
              name: 'Item ' + (i+1),
              imageSrc: images[i%images.length]
            });
          }
          return content;
        }
      });
    </script>
  </body>
</html>
